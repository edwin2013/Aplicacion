
@{
	ViewBag.Title = "Index";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<head>
	<link href="~/Content/bootstrap-datepicke.css" rel="stylesheet" />
	<link href="~/Content/bootstrap-clockpicker.min.css" rel="stylesheet" />
</head>

<ol class="breadcrumb">
	<li class="breadcrumb-item">
		<a href="#">Paciente</a>
	</li>
	<li class="breadcrumb-item active">Inicio</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
	<li class="nav-item">
		<a class="nav-link active" href="#sobreOrganizacion" role="tab" data-toggle="tab">Sobre la organización</a>
	</li>
	<li class="nav-item">
		<a class="nav-link" href="#obtenerCita" role="tab" data-toggle="tab">Obtener su cita</a>
	</li>
	<li class="nav-item">
		<a class="nav-link" href="#testimonios" role="tab" data-toggle="tab">Testimonios</a>
	</li>
	<li class="nav-item">
		<a class="nav-link" href="#proximasActividades" role="tab" data-toggle="tab">Próximas actividades</a>
	</li>
</ul>
<div class="tab-content">
	<div role="tabpanel" class="tab-pane fade in active" id="sobreOrganizacion">Sobre la organización</div>
	<div role="tabpanel" class="tab-pane fade" id="obtenerCita">
		<div id="contenedorObtenerCita">
			@Html.Partial("~/Views/Paciente/_CrearCita.cshtml")
		</div>
	</div>
	<div role="tabpanel" class="tab-pane fade" id="testimonios">Testimonios</div>
	<div role="tabpanel" class="tab-pane fade" id="proximasActividades">
		Próximas actividades
		<form id="upload" style="display:none;" enctype="multipart/form-data" action="@Url.Action("Survey", "Mantenimiento")" method="POST">
			<input type="file" name="fileUpload" id="fileUpload" size="23" /><br />
			<button>Upload!</button>
		</form>

	</div>
</div>

<script type="text/javascript">

	$( '#upload' ).submit( function ( e )
	{
		e.preventDefault(); // stop the standard form submission

		var formdata = new FormData(); //FormData object
		var fileInput = document.getElementById( 'fileUpload' );
		//Iterating through each files selected in fileInput
		for ( i = 0; i < fileInput.files.length; i++ )
		{
			formdata.append( fileInput.files[i].name, fileInput.files[i] );
		}

		$.ajax( {
			url: this.action,
			type: this.method,
			data: formdata,
			cache: false,
			contentType: false,
			processData: false,
			success: function ( data )
			{
				console.log( data.UploadedFileCount + ' file(s) uploaded successfully' );
			},
			error: function ( xhr, error, status )
			{
				console.log( error, status );
			}
		} );
	} );
</script>

@section Scripts{
	<script src="~/Scripts/bootstrap-datepicker.js"></script>
	<script src="~/Scripts/bootstrap-clockpicker.min.js"></script>
	<script src="~/Scripts/Paciente/crearCita.js"></script>
}

